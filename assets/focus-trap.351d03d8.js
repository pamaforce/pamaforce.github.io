import{i as V,a as K,u as p,ag as q,h as U,b as B,j as H,e as z,p as G,w as b,z as N,a2 as Q,C as X}from"./index.368b2d91.js";import{x as Z,B as ee,i as D,m as te,_ as ne}from"./base.96266e0f.js";import{E as J}from"./el-button.0ebfcf4b.js";const be=(...e)=>t=>{e.forEach(a=>{V(a)?a(t):a.value=t})};var ae={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const oe=e=>(t,a)=>se(t,a,p(e)),se=(e,t,a)=>ee(a,e,e).replace(/\{(\w+)\}/g,(o,r)=>{var c;return`${(c=t==null?void 0:t[r])!=null?c:`{${r}}`}`}),re=e=>{const t=K(()=>p(e).name),a=q(e)?e:U(e);return{lang:t,locale:a,t:oe(e)}},ye=()=>{const e=Z("locale");return re(K(()=>e.value||ae))};let f=[];const O=e=>{const t=e;t.key===J.esc&&f.forEach(a=>a(t))},ce=e=>{B(()=>{f.length===0&&document.addEventListener("keydown",O),D&&f.push(e)}),H(()=>{f=f.filter(t=>t!==e),f.length===0&&D&&document.removeEventListener("keydown",O)})},$=e=>{const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t},P=(e,t)=>{for(const a of e)if(!ie(a,t))return a},ie=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},ue=e=>{const t=$(e),a=P(t,e),o=P(t.reverse(),e);return[a,o]},le=e=>e instanceof HTMLInputElement&&"select"in e,d=(e,t)=>{if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&le(e)&&t&&e.select()}};function A(e,t){const a=[...e],o=e.indexOf(t);return o!==-1&&a.splice(o,1),a}const de=()=>{let e=[];return{push:o=>{const r=e[0];r&&o!==r&&r.pause(),e=A(e,o),e.unshift(o)},remove:o=>{var r,c;e=A(e,o),(c=(r=e[0])==null?void 0:r.resume)==null||c.call(r)}}},fe=(e,t=!1)=>{const a=document.activeElement;for(const o of e)if(d(o,t),document.activeElement!==a)return},x=de(),y="focus-trap.focus-after-trapped",F="focus-trap.focus-after-released",I={cancelable:!0,bubbles:!1},M="focusAfterTrapped",R="focusAfterReleased",pe=Symbol("elFocusTrap"),me=z({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[M,R,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const a=U();let o,r;ce(n=>{e.trapped&&!c.paused&&t("release-requested",n)});const c={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},m=n=>{if(!e.loop&&!e.trapped||c.paused)return;const{key:s,altKey:i,ctrlKey:u,metaKey:l,currentTarget:Y,shiftKey:k}=n,{loop:L}=e,W=s===J.tab&&!i&&!u&&!l,v=document.activeElement;if(W&&v){const h=Y,[T,g]=ue(h);T&&g?!k&&v===g?(n.preventDefault(),L&&d(T,!0),t("focusout-prevented")):k&&[T,h].includes(v)&&(n.preventDefault(),L&&d(g,!0),t("focusout-prevented")):v===h&&(n.preventDefault(),t("focusout-prevented"))}};G(pe,{focusTrapRef:a,onKeydown:m}),b(()=>e.focusTrapEl,n=>{n&&(a.value=n)},{immediate:!0}),b([a],([n],[s])=>{n&&(n.addEventListener("keydown",m),n.addEventListener("focusin",S),n.addEventListener("focusout",C)),s&&(s.removeEventListener("keydown",m),s.removeEventListener("focusin",S),s.removeEventListener("focusout",C))});const E=n=>{t(M,n)},j=n=>t(R,n),S=n=>{const s=p(a);if(!s)return;const i=n.target,u=i&&s.contains(i);u&&t("focusin",n),!c.paused&&e.trapped&&(u?r=i:d(r,!0))},C=n=>{const s=p(a);if(!(c.paused||!s))if(e.trapped){const i=n.relatedTarget;!te(i)&&!s.contains(i)&&setTimeout(()=>{!c.paused&&e.trapped&&d(r,!0)},0)}else{const i=n.target;i&&s.contains(i)||t("focusout",n)}};async function _(){await N();const n=p(a);if(n){x.push(c);const s=document.activeElement;if(o=s,!n.contains(s)){const u=new Event(y,I);n.addEventListener(y,E),n.dispatchEvent(u),u.defaultPrevented||N(()=>{let l=e.focusStartEl;Q(l)||(d(l),document.activeElement!==l&&(l="first")),l==="first"&&fe($(n),!0),(document.activeElement===s||l==="container")&&d(n)})}}}function w(){const n=p(a);if(n){n.removeEventListener(y,E);const s=new Event(F,I);n.addEventListener(F,j),n.dispatchEvent(s),s.defaultPrevented||d(o!=null?o:document.body,!0),n.removeEventListener(F,E),x.remove(c)}}return B(()=>{e.trapped&&_(),b(()=>e.trapped,n=>{n?_():w()})}),H(()=>{e.trapped&&w()}),{onKeydown:m}}});function ve(e,t,a,o,r,c){return X(e.$slots,"default",{handleKeydown:e.onKeydown})}var Fe=ne(me,[["render",ve],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);export{Fe as E,pe as F,be as c,ye as u};
